import re

NE_CHAR = chr(9000)
BLANK_CHAR = chr(10000)

REPLACE_PAIRS = [['$NE$', BLANK_CHAR], ['Å£', 'È›'], ['ÅŸ', 'È™'], ['Å¢', 'Èš'], ['Åž', 'È˜'], ['á¹¢', 'È˜'], ['á¹£', 'È™'],
                    ['â€¦', '. . .'], ['â€ž', '"'], ['â€œ', '"'], ['â€', '"'], ['Ã£', 'Äƒ'], ['â€“', '-'], ['â€”', '-'], ['â€™', "'"],
                    ['â€˜', "'"], ['`', "'"], ['â€³', '"'], ['Ë®', '"'], ['â€²', "'"], ['â€š', ','], ['âˆ’', '-'], ['â€‘', '-'],
                    ['â€', '-']]
# REPLACE_PAIRS = [['$NE$', NE_CHAR], ['â€¦', '. . .'], ['Ã£', 'Äƒ'], ['â€“', '-'], ['â€”', '-'], ['â€™', "'"],
#                     ['â€˜', "'"], ['`', "'"], ['â€³', '"'], ['Ë®', '"'], ['â€²', "'"], ['â€š', ','], ['âˆ’', '-'], ['â€‘', '-'],
#                     ['â€', '-'], ['á¹¢', 'È˜'], ['á¹£', 'È™']]


    
REMOVE_CHARS = ['\t', 'Â»', ']', '[', 'Ð¸', 'Ñ€', 'Ñ', 'Ð½', '\xad', 'Ñ‚', '>', 'Ð²', 'â€¢', '|', 'Ð»', '<', 'ðŸ˜€',
                'Ðº', 'Ð´', 'Ì¦', 'Ñƒ', 'Ì†', 'Ñ', 'Â·', 'Ð¼', 'Ð¿', 'ÑŒ', 'Ã©', '\u200b', 'Ð·', 'Ð³', 'Ñ‹', 'Ì‚', 'Ð¹',
                '\\', '^', 'Ä‚', 'Ð¡', 'È‹', 'Ð±', 'Ð¶', 'Ì§', 'Ë', 'Ñˆ', 'Ñ‡', 'Ð’', 'Ðœ', 'Ã ', 'Ðš', 'â–ª', 'Â°',
                'Ñ…', 'ÐŸ', 'Ã‡', 'â‚¬', 'Ã¡', 'Ã˜', 'Ñ†', 'Ã¼', 'Ð¢', 'Ð', 'Ð˜', 'Â«', 'â–º', 'Ð ', 'Ð‘', 'Ð', 'ï¸',
                'Ã', 'Ð•', 'ÑŽ', 'â™¦', 'â—', 'Ðž', 'Ã¶', 'Ð”', 'Ñ‘', 'Â²', 'Èƒ', '\uf0fc', 'ÇŽ', 'Â±', 'Ãª', 'Ã—',
                'Ð›', 'Ð¨', 'Ñ„', 'â¤', 'â€’', 'Ð¤', 'Ð­', 'ÄŸ', 'Ñ', 'â¦', 'Ã³', 'Ð—', 'Ð£', 'Ã–', 'Â§', 'Ñ‰', 'Ã¨',
                'Ð¯', 'Ã‰', 'Ä°', '\uf0d8', 'Ä', 'Ð§', 'Ð¥', 'à¸²', 'Ã­', 'ÈŠ', 'Î±', '\u202a', '\u200e', 'Ð™',
                'à¸™', '\u200d', 'â™‚', 'âƒ£', 'âœ…', 'Ñ–', 'Î¼', 'Ð“', 'Å ', 'Ä±', 'Ä¾', 'à¸£', 'à¸«', 'à¸', 'ðŸŸ', 'ðŸ’¦',
                'Å', '\u202c', 'â„–', 'Ã¥', '\ufeff', 'Ð–', 'á¹­', 'Â³', '~', 'Ã…', 'ðŸ¤—', 'Å¡', 'Â¼', 'Ð¦', 'âƒ°',
                'Ð«', 'Î¹', '\u2063', 'áµ', 'á´¸', 'áµ€', 'á´¿', 'á´¬', 'Â®', 'Ä†', 'Ä‡', 'à¸•', 'à¸š', 'à¸˜', 'à¸¸', 'à¸¥', 'à¸µ',
                'à¸”', 'à¸´', 'à¹‰', 'à¸­', 'à¸¢', 'à¸‡', 'à¸¡', 'ðŸ ', 'ðŸ¬', 'ðŸ³', 'ÃŸ', 'Åº', 'âœ”', 'Ó‘', 'Ë™', 'âœŠ', 'Ã§', 'ï¬',
                'Ãœ', 'âš¾', 'â„', 'ï¿½', 'ÄŒ', 'Ã¤', 'Ð®', 'Â©', 'Å„', 'Ä—', 'âš½', 'ÅŒ', 'Ã‘', 'Å¾', 'Ã¯', 'Ðµ', 'Ð¾', 'Ð°']

ALPHABET = [BLANK_CHAR, ' ', '!', '"', '#', '$', '%', '&', "'", '(', ')', '*', '+', ',', '-', '.', '/', ':', ';', '=', 
            '?', '@', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q',
            'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '_', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i',
            'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '{', '}',
            'ÃŽ', 'Ã¢', 'Ã®', 'Äƒ', 'È˜', 'È™', 'Èš', 'È›']

# ALPHABET = [BLANK_CHAR, ' ', 'e', 'a', 'i', 'r', 't', 'n', 'u', 'c', 'l', 'o', 's', 'd', 'p', 'm', 'Äƒ', ',', 'f', 'v',
#             '.', 'È›', 'È™', 'Ã®', 'b', 'g', 'z', '-', '0', '"', 'Ã¢', '1', '2', 'h', 'j', 'x', '3', '5', 'A',
#             '6', '4', ')', '(', ':', 'P', '7', '9', 'D', '8', 'C', 'ÃŽ', 'S', '%', 'E', 'k', 'M', "'", 'N',
#             'L', 'T', 'I', '/', 'È˜', 'U', 'w', 'O', 'F', '?', 'R', '!', 'V', ';', 'y', 'B', 'G', 'H', '+',
#             'J', '*', 'Èš', '#', '=', '_', 'Z', '&', '}', '{', '@', 'Â«', 'â–º', 'W', 'K', 'Ðµ', 'Ð¾', 'Ð°', 'q',
#             'Â»', ']', '[', 'Ð¸', 'Ñ€', 'Ñ', 'Ð½']


# ALPHABET = [NE_CHAR, BLANK_CHAR, '+', 'ÃŽ', 'È˜', '&', 'L', 'Z', 'P', 'Q', 'T', 'Ã®', '$', 'E', 'N', 'â€', ';',
#             'o', 'l', 'Äƒ', 'r', 'v', 'i', 'G', 'z', 'V', 'D', 'n', 'X', 'p', 'x', 'C', 'e', 't', 'A', 'b',
#             'f', 'M', 'd', 'c', 'u', 'g', ' ', 'a', 'm', 'â€ž', 'K', 's', 'h', '2', 'È™', '.', 'Å¢', 'R', '7',
#             ',', '1', '8', 'B', '9', 'F', '5', 'j', 'È›', '4', 'S', '6', '3', 'y', '-', 'â€œ', 'J', 'U', 'O',
#             'w', ')', '(', '0', 'Å£', 'Èš', '*', '%', 'ÅŸ', 'Ã¢', '/', 'Åž', 'k', '"', 'q', '!', '#', ':', 'I',
#             '=', 'W', '?', 'Y', 'H', "'", '@', '{', '}', '_']

ALPHABET_REG = list(map(lambda x: re.escape(x), ALPHABET))

def clean_string(s):
    for pair in REPLACE_PAIRS:
        s = s.replace(pair[0], pair[1])
    s = ' '.join(s.split())

    pattern = re.compile(f"[^{''.join(ALPHABET_REG)}]")
    s = re.sub(pattern, BLANK_CHAR, s)

    return s